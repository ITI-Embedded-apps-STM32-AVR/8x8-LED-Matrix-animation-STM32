// libs
#include "STD_TYPES.h"
#include "BIT_MAN.h"
#include "Delay_interface.h"
// MCAL
#include "RCC_interface.h"
// HAL
#include "LED_Matrix.h"

const u8 pinColor[] = {
	0,  1,
	2,  3,
	4,  5,
	6,  7,

	12, 13,
	8,  9,
	10, 11,
	9,  8,
};

const u8 portColor[] = {
	'A', 'A',
	'A', 'A',
	'A', 'A',
	'A', 'A',

	'B', 'B',
	'B', 'B',
	'A', 'A',
	'A', 'A',
};

const u8 pinComm[] = {
	0, 1, 14, 5, 6, 7, 11, 10
};

const u8 portComm[] = {
	'B', 'B', 'B', 'B', 'B', 'B', 'B', 'B'
};

const u8 patt[] = {
	0, 1, 0, 0, 0, 0, 2, 0,
	0, 2, 1, 0, 0, 2, 1, 0,
	0, 1, 0, 2, 1, 0, 2, 0,
	0, 2, 0, 0, 0, 0, 1, 0,
	0, 1, 0, 0, 0, 0, 2, 0,
	0, 2, 0, 0, 0, 0, 1, 0,
	2, 2, 2, 2, 2, 2, 2, 2,
	2, 2, 2, 2, 2, 2, 2, 2,
};

const u8 frames[][8*8] = {
	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},


	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},


	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},


	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 0, 0, 2, 0,
		0, 0, 0, 0, 0, 0, 2, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},


	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 0, 0, 2, 0,
		0, 0, 0, 0, 0, 0, 2, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 3, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 2, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},


	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 0, 2,
		0, 0, 0, 0, 0, 0, 3, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 0, 0, 2, 0,
		0, 0, 0, 0, 0, 0, 2, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 0, 3, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},


	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},


	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},


	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 2, 0, 0, 0, 0, 0, 0,
		0, 2, 0, 0, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},


	{
		0, 0, 0, 0, 1, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 2, 0, 0, 0, 0, 0, 0,
		0, 2, 0, 0, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 0, 0, 3, 0, 0, 0, 0,
		0, 0, 0, 0, 1, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 2, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},


	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		2, 0, 0, 0, 0, 0, 0, 0,
		0, 3, 0, 0, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 2, 0, 0, 0, 0, 0, 0,
		0, 2, 0, 0, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},

	{
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 0, 3, 0, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
		0, 0, 0, 1, 0, 0, 0, 0,
	},
};

void main(void)
{
	/* init clocks */
	RCC_init();

	RCC_setClockPrescaler(RCC_PCLK1, RCC_APB_PRESCALER_AHB_DIV2);
	RCC_setClockPrescaler(RCC_PCLK2, RCC_APB_PRESCALER_AHB_DIV2);

	RCC_setClockState(RCC_CLOCK_HSE, 1);
	RCC_setPLLHSEdiv2(0);
	RCC_setPLLmul(RCC_PLL_MUL9);
	RCC_setPLLsource(RCC_PLL_SOURCE_HSE);
	RCC_setClockState(RCC_CLOCK_PLL, 1);
	RCC_changeSysClock(RCC_CLOCK_PLL);

	/* enable clocks for ports A & B */
	RCC_setPeripheralClock(RCC_BUS_APB2, RCC_PERI_GPIOA, 1);
	RCC_setPeripheralClock(RCC_BUS_APB2, RCC_PERI_GPIOB, 1);

	/* configure delay function */
	delay_setCPUclockFactor(72000000);

	//LED_Matrix_Init(u8 idx, u8** pinColor, u8** portColor, u8* pinComm, u8* portComm, u8 ledPinsCount, u8 colCount, u8 rowCount);
	LED_Matrix_Init(0, pinColor, portColor, pinComm, portComm, 2, 8, 8, LED_MATRIX_ACTIVE_STATE_HIGH);

	u16 time_ctr = 0;
	s8 i = 0;
	//s8 s = 1;

	while (1)
	{
		LED_Matrix_DrawPatt(0, frames[i]);
		time_ctr+=7;
		if (time_ctr >= 40)
		{
			time_ctr = 0;
			i ++;
			if (i == (sizeof(frames)/sizeof(frames[0])))
			{
				i = 0;
			}
		}
	}
}
